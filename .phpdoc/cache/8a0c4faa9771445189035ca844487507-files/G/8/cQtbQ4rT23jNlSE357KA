1752635046
8a0c4faa9771445189035ca844487507-phpdoc%3Abcf68f8df99b6a9973ebde0b25cc3ee3-377ebfd59ac1c1e4ed590ebae5c2b37a
s:22032:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjE2OiJzdG9ja19hY3Rpb24ucGhwIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjE6e3M6MjE6IlxSZXRvdXJuZVJlcG9uc2VBUEkoKSI7TzozODoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8iOjk6e3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBhcmd1bWVudHMiO2E6MTp7aTowO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQiOjU6e3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AHR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABuYW1lIjtzOjg6IkpTT05kYXRhIjtzOjQ2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABkZWZhdWx0IjtzOjQ6Im51bGwiO3M6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGJ5UmVmZXJlbmNlIjtiOjA7czo0OToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAaXNWYXJpYWRpYyI7YjowO319czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGxvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aTo0MDc7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGVuZExvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aTo0MTY7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAHJldHVyblR5cGUiO086Mzc6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxUeXBlc1xNaXhlZF8iOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AZnFzZW4iO086MzA6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbiI6Mjp7czozNzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBmcXNlbiI7czoyMToiXFJldG91cm5lUmVwb25zZUFQSSgpIjtzOjM2OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAG5hbWUiO3M6MTg6IlJldG91cm5lUmVwb25zZUFQSSI7fXM6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBkb2NCbG9jayI7TjtzOjYwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AaGFzUmV0dXJuQnlSZWZlcmVuY2UiO2I6MDtzOjQ4OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AbWV0YWRhdGEiO2E6MDp7fXM6NTA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBhdHRyaWJ1dGVzIjthOjA6e319fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaGFzaCI7czozMjoiMzc3ZWJmZDU5YWMxYzFlNGVkNTkwZWJhZTVjMmIzN2EiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czoyOToic3JjL2dzL3N0b2NrL3N0b2NrX2FjdGlvbi5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjE0MDE2OiI8P3BocA0KDQp1c2UgTkFieVN5XEdTXEJvdXRpcXVlXHhCb3V0aXF1ZTsNCnVzZSBOQWJ5U3lcR1NcU3RvY2tceFByb2R1aXQ7DQp1c2UgTkFieVN5XEdTXFN0b2NrXHhQcm9kdWl0TkM7DQp1c2UgTkFieVN5XHhFcnJldXI7DQp1c2UgTkFieVN5XHhOb3RpZmljYXRpb247DQoNCiAgICAvL2luY2x1ZGVfb25jZSAnLi4vLi4vbmFieXN5X3N0YXJ0LnBocCcgOw0KICAgIA0KICAgICRQQVJBTT0kX1JFUVVFU1Q7DQogICAgJEJvdXRpcXVlPSRuYWJ5c3ktPk1hQm91dGlxdWUgOw0KICAgIA0KICAgIGlmICghaXNzZXQoJGFjdGlvbikpew0KICAgICAgICAvL0lsIG4neSBhIHBhcyBkJ2FjdGlvbiwgb24gcmV0b3VybmUgYSBsYSBwYWdlIHByw6ljZWRlbnRlDQogICAgICAgIGVjaG8gIkF1Y3VuZSBBY3Rpb24hIiA7DQogICAgICAgIGV4aXQ7DQogICAgfQ0KDQogICAgJEVycj1uZXcgeEVycmV1cjsNCiAgICAkRXJyLT5UeEVycmV1cj0iUHJvZHVpdCBpbnRyb3V2YWJsZS4iIDsNCiAgICAkRXJyLT5PSz0wOw0KICAgICRFcnItPlNvdXJjZT0ic3RvY2tfYWN0aW9uIiA7DQogICAgaWYgKCRuYWJ5c3ktPkFjdGl2ZURlYnVnKXsNCiAgICAgICAgJEVyci0+U291cmNlPV9fRklMRV9fIDsNCiAgICB9DQoNCiAgICAkUmV0b3VyID0gbmV3IHhOb3RpZmljYXRpb24oKTsNCiAgICAkUmV0b3VyLT5PSz0xOw0KDQoJc3dpdGNoICgkYWN0aW9uKXsNCgkJY2FzZSAiQ0FOQ01EIjoNCiAgICAgICAgICAgIC8vTW9kaWZpZSB1bmUgYXV0b3Jpc2F0aW9uIHN1ciB1bmUgcGFnZQ0KICAgICAgICAgICAgJFByb2R1aXQgPW51bGwgOw0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRCb3V0aXF1ZSddKSl7DQogICAgICAgICAgICAgICAgJElkQm91dGlxdWU9JFBBUkFNWydJZEJvdXRpcXVlJ10gOw0KICAgICAgICAgICAgICAgICRCb3V0PW5ldyB4Qm91dGlxdWUoJG5hYnlzeSwkSWRCb3V0aXF1ZSkgOw0KCQkJfQ0KCQkJaWYgKGlzc2V0KCRQQVJBTVsnSWRQZHQnXSkpew0KICAgICAgICAgICAgICAgICRJZFBkdD0kUEFSQU1bJ0lkUGR0J10gOw0KICAgICAgICAgICAgICAgICRQcm9kdWl0PW5ldyB4UHJvZHVpdCgkbmFieXN5LG51bGwsJG5hYnlzeTo6R0xPQkFMX0FVVE9fQ1JFQVRFX0RCVEFCTEUsJ3Byb2R1aXRzJywgJEJvdXQpIDsNCiAgICAgICAgICAgICAgICAkUHJvZHVpdC0+R2V0UHJvZHVpdCgkSWRQZHQpIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KCQkJJFR4TT1mYWxzZSA7DQogICAgICAgICAgICAkQ2FsbEJhY2s9bnVsbCA7DQoNCiAgICAgICAgICAgICRMaWVuPW51bGwgOw0KICAgICAgICAgICAgJFJlcG9uc2U9IltFUlJFVVJdIiA7DQoNCgkJCSRWYWxldXI9bnVsbCA7CQkJDQoJCQlpZiAoaXNzZXQoJFBBUkFNWydWQUxFVVInXSkpew0KCQkJCSRWYWxldXI9JFBBUkFNWydWQUxFVVInXSA7DQoJCQl9DQogICAgICAgICAgIA0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQcm9kdWl0KSl7DQogICAgICAgICAgICAgICAgaWYgKCRQcm9kdWl0LT5JZD4wKXsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzc2V0KCRWYWxldXIpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICRSZXBvbnNlPSRQcm9kdWl0LT5DYW5CZUNtZCgkVmFsZXVyKSA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoJCQllY2hvICRSZXBvbnNlIDsNCgkJCWJyZWFrIDsNCg0KICAgICAgICBjYXNlICJFRElUX0NPREVCQVIiOg0KICAgICAgICAgICAgLy9Nb2RpZmllIHVuIENvZGVCYXJyZQ0KICAgICAgICAgICAgJFByb2R1aXQgPW51bGwgOw0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRCb3V0aXF1ZSddKSl7DQogICAgICAgICAgICAgICAgJElkQm91dGlxdWU9JFBBUkFNWydJZEJvdXRpcXVlJ10gOw0KICAgICAgICAgICAgICAgICRCb3V0PW5ldyB4Qm91dGlxdWUoJG5hYnlzeSwkSWRCb3V0aXF1ZSkgIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpc3NldCgkUEFSQU1bJ0lkUGR0J10pKXsNCiAgICAgICAgICAgICAgICAkSWRQZHQ9JFBBUkFNWydJZFBkdCddIDsNCiAgICAgICAgICAgICAgICAkUHJvZHVpdD1uZXcgeFByb2R1aXQoJG5hYnlzeSkgOw0KICAgICAgICAgICAgICAgICRQcm9kdWl0LT5HZXRQcm9kdWl0KCRJZFBkdCkgOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAkVHhNPWZhbHNlIDsNCiAgICAgICAgICAgICRDYWxsQmFjaz1udWxsIDsNCg0KICAgICAgICAgICAgJExpZW49bnVsbCA7DQogICAgICAgICAgICAkUmVwb25zZT0iW0VSUkVVUl0iIDsNCg0KICAgICAgICAgICAgJENvZGVCYXI9bnVsbCA7CQkJDQogICAgICAgICAgICBpZiAoaXNzZXQoJFBBUkFNWydDT0RFQkFSJ10pKXsNCiAgICAgICAgICAgICAgICAkQ29kZUJhcj0kUEFSQU1bJ0NPREVCQVInXSA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmIChpc3NldCgkUHJvZHVpdCkpew0KICAgICAgICAgICAgICAgIGlmICgkUHJvZHVpdC0+SWQ+MCl7DQogICAgICAgICAgICAgICAgICAgIGlmIChpc3NldCgkQ29kZUJhcikpew0KICAgICAgICAgICAgICAgICAgICAgICAgJFJlcG9uc2U9JFByb2R1aXQtPkNoYXJnZUNvZGVCYXIoJENvZGVCYXIpIDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVjaG8gJFJlcG9uc2UgOw0KICAgICAgICAgICAgYnJlYWsgOyANCiAgICAgICAgDQogICAgICAgIGNhc2UgIkdFVF9QUk9EVUlUX0JZSUQiOg0KICAgICAgICAgICAgJFR5cGVSZXBvbnNlPSdKU09OJyA7DQogICAgICAgICAgICAkSWRQZHQ9bnVsbDsNCiAgICAgICAgICAgICRQcm9kdWl0ID1udWxsIDsNCiAgICAgICAgICAgICRCb3V0PSRuYWJ5c3ktPk1hQm91dGlxdWUgOw0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRQZHQnXSkpew0KICAgICAgICAgICAgICAgICRJZFBkdD0kUEFSQU1bJ0lkUGR0J10gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRCb3V0aXF1ZSddKSl7DQogICAgICAgICAgICAgICAgJElkQm91dGlxdWU9JFBBUkFNWydJZEJvdXRpcXVlJ10gOw0KICAgICAgICAgICAgICAgICRCb3V0PW5ldyB4Qm91dGlxdWUoJG5hYnlzeSwkSWRCb3V0aXF1ZSkgIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRQcm9kdWl0PW5ldyB4UHJvZHVpdCgkbmFieXN5LCRJZFBkdCkgOyAgICAgICAgICAgDQogICAgICAgICAgICAkUmVwb25zZT0iW0VSUkVVUl0iIDsNCiAgICAgICAgICAgICRyZXRvdXI9anNvbl9lbmNvZGUoJFJlcG9uc2UpIDsNCiAgICAgICAgICAgIGlmICgkUHJvZHVpdC0+SWQ+MCl7DQogICAgICAgICAgICAgICAgJExpZ25lPSRQcm9kdWl0LT5SUzsNCiAgICAgICAgICAgICAgICAkTGlnbmVbJ1N0b2NrQ2FydG9uJ109JFByb2R1aXQtPkdldFN0b2NrR3JvcygpOw0KICAgICAgICAgICAgICAgICRMaWduZVsnU3RvY2tEZXRhaWwnXT0kUHJvZHVpdC0+R2V0U3RvY2tSZXN0YW50RGV0YWlsKCk7DQogICAgICAgICAgICAgICAgJHJldG91cj1qc29uX2VuY29kZSgkTGlnbmUpIDsgDQogICAgICAgICAgICB9DQogICAgICAgICAgICBSZXRvdXJuZVJlcG9uc2VBUEkoJHJldG91cikgOyANCg0KICAgICAgICBjYXNlICJTQVZFX1BST0RVSVQiOg0KICAgICAgICAgICAgJFBkdEpTT049bnVsbCA7DQogICAgICAgICAgICAkdlBkdD1udWxsOw0KICAgICAgICAgICAgJE5iVHJvdXY9MCA7DQogICAgICAgICAgICAkSWRQZHQ9MCA7DQogICAgICAgICAgICAkSXNOZXc9dHJ1ZTsNCg0KICAgICAgICAgICAgJEVyci0+VHhFcnJldXI9IlByb2R1aXQgaW50cm91dmFibGUuIiA7DQogICAgICAgICAgICAkUmVwb25zZT1qc29uX2VuY29kZSgkRXJyKSA7DQogICAgICAgICAgICBpZiAoaXNzZXQoJFBBUkFNWydJRCddKSl7DQoJCQkJJElkUGR0PShpbnQpJFBBUkFNWydJRCddIDsNCiAgICAgICAgICAgIH1lbHNlaWYoaXNzZXQoJFBBUkFNWydJZCddKSl7DQoJCQkJJElkUGR0PShpbnQpJFBBUkFNWydJZCddIDsNCiAgICAgICAgICAgIH1lbHNlaWYgKGlzc2V0KCRQQVJBTVsnSWRQcm9kdWl0J10pKXsNCgkJCQkkSWRQZHQ9KGludCkkUEFSQU1bJ0lkUHJvZHVpdCddIDsNCiAgICAgICAgICAgIH1lbHNlaWYgKGlzc2V0KCRQQVJBTVsnSWRQZHQnXSkpew0KCQkJCSRJZFBkdD0oaW50KSRQQVJBTVsnSWRQZHQnXSA7DQogICAgICAgICAgICB9ICAgICAgICAgICAgDQogICAgICAgICAgICAkUGR0PW5ldyB4UHJvZHVpdCgkbmFieXN5LCRJZFBkdCkgOw0KICAgICAgICAgICAgLy92YXJfZHVtcCgkUGR0LT5JZCk7DQogICAgICAgICAgICBpZiAoJFBkdC0+SWQ+MCl7DQogICAgICAgICAgICAgICAgJElzTmV3PWZhbHNlOw0KICAgICAgICAgICAgICAgICRJZFBkdD0kUGR0LT5JZCA7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBpZigkSWRQZHQ+MCAmJiAkUGR0LT5JZD09MCl7DQogICAgICAgICAgICAgICAgICAgICRFcnItPlR4RXJyZXVyPSJJZFByb2R1aXQgIi4kSWRQZHQuIiBlc3QgaW50cm91dmFibGUgISI7DQogICAgICAgICAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJEVycik7DQogICAgICAgICAgICAgICAgICAgIGV4aXQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaXNzZXQoJFBBUkFNWydKU09OX1BEVCddKSl7DQoJCQkJJFBkdEpTT049JFBBUkFNWydKU09OX1BEVCddIDsNCiAgICAgICAgICAgICAgICBpZiAoJFBkdEpTT04gIT09Jycpew0KICAgICAgICAgICAgICAgICAgICAkdlBkdD1qc29uX2RlY29kZSgkUGR0SlNPTix0cnVlKSA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgJHZQZHQ9W107DQogICAgICAgICAgICAgICAgZm9yZWFjaCAoJF9SRVFVRVNUIGFzICRrZXkgPT4gJHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKHN0cnRvdXBwZXIoJGtleSkgIT09IkFDVElPTiIgJiYgc3RydG91cHBlcigka2V5KSAhPT0iVE9LRU4iICYmIHN0cnRvdXBwZXIoJGtleSkgIT09IlNUT0NLIiANCiAgICAgICAgICAgICAgICAgICAgICAgICYmIHN0cnRvdXBwZXIoJGtleSkgIT09IlNUT0NLREVUQUlMIiAmJiBzdHJ0b3VwcGVyKCRrZXkpICE9PSJJRCIgICl7DQogICAgICAgICAgICAgICAgICAgICAgICAkdlBkdFska2V5XSA9ICR2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICRVcERhdGVQcmVzZW50PWZhbHNlIDsNCiAgICAgICAgICAgIGlmIChpc3NldCgkdlBkdCkpew0KICAgICAgICAgICAgICAgIC8vcHJpbnRfcigkUGR0LT5SUyk7DQogICAgICAgICAgICAgICAgZm9yZWFjaCAoJHZQZHQgYXMgJENoYW1wID0+ICRWYWxldXIpew0KICAgICAgICAgICAgICAgICAgICAvL3ByaW50X3IoJFZhbGV1cikgOw0KICAgICAgICAgICAgICAgICAgICBpZigkUGR0LT5DaGFtcHNFeGlzdGVJblRhYmxlKCRDaGFtcCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQZHQtPiRDaGFtcCAhPT0gJFZhbGV1ciB8fCAkSXNOZXcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQZHQtPiRDaGFtcD0kVmFsZXVyIDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICRVcERhdGVQcmVzZW50PXRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICgkVXBEYXRlUHJlc2VudCl7DQogICAgICAgICAgICAgICAgLy9wcmludF9yKCRQZHQtPlJTKSA7DQogICAgICAgICAgICAgICAgJFBkdC0+RW5yZWdpc3RyZXIoKSA7DQogICAgICAgICAgICAgICAgJElkUGR0ID0gJFBkdC0+SWQgOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJFBkdD1uZXcgeFByb2R1aXQoJG5hYnlzeSwkSWRQZHQpIDsNCiAgICAgICAgICAgIGlmICgoJFBkdC0+SWQ+MCkpew0KICAgICAgICAgICAgICAgICRQZHRKU09OPSRQZHQtPlRvSlNPTigpIDsNCiAgICAgICAgICAgICAgICAkUmVwb25zZT0kUGR0SlNPTiA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkUmV0b3VyLT5FeHRyYT0kUGR0LT5JZCA7DQogICAgICAgICAgICBpZigkSXNOZXcgJiYgJFBkdC0+SWQ+MCl7DQogICAgICAgICAgICAgICAgJFJldG91ci0+QXV0cmVzPSJOb3V2ZWF1IFByb2R1aXQgYWpvdXTDqSBjb3JyZWN0ZW1lbnQuIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRSZXRvdXItPkNvbnRlbnVlID0gJFBkdC0+VG9PYmplY3QoKTsNCiAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJFJldG91cikgOyAgICAgICAgICAgIA0KICAgICAgICAgICAgZXhpdDsNCiAgICAgICAgICAgIA0KICAgICAgICBjYXNlICJHRVRfUFJPRFVJVCI6DQogICAgICAgICAgICAkUGR0PW5ldyB4UHJvZHVpdCgkbmFieXN5LG51bGwsJG5hYnlzeTo6R0xPQkFMX0FVVE9fQ1JFQVRFX0RCVEFCTEUsJ3Byb2R1aXRzJywkQm91dGlxdWUpIDsNCiAgICAgICAgICAgICROYlRyb3V2PTAgOw0KICAgICAgICAgICAgJElkUGR0PTAgOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAkUmVwb25zZT1qc29uX2VuY29kZSgkRXJyKSA7DQogICAgICAgICAgICAkVHJvdXY9bnVsbDsNCiAgICAgICAgICAgICRDb2RlQmFyPW51bGw7DQogICAgICAgICAgICAkRGVzaWduYXRpb249bnVsbDsNCiAgICAgICAgICAgICRJZFBkdD1udWxsOw0KICAgICAgICAgICAgJEF2ZWNDcml0ZXJlPWZhbHNlIDsNCg0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnQ09ERUJBUiddKSl7DQoJCQkJJENvZGVCYXI9JFBBUkFNWydDT0RFQkFSJ10gOw0KDQogICAgICAgICAgICAgICAgLy9PbiB2YSBkJ2Fib3JkIHbDqXJpZmllciBzJ2lsIG5lIHMnYWdpdCBwYXMgZGUgcGR0IG5vbiBjbGFzc8OpDQogICAgICAgICAgICAgICAgJFBkdE5DPW5ldyB4UHJvZHVpdE5DKCRuYWJ5c3kpOw0KICAgICAgICAgICAgICAgIGlmICgkUGR0TkMtPklzUGR0TkMoJENvZGVCYXIpKXsNCiAgICAgICAgICAgICAgICAgICAgLy9Qcm9kdWl0IG5vbiBjbGFzc8OpDQogICAgICAgICAgICAgICAgICAgIGlmICgkUGR0TkMtPkNoYXJnZVBkdE5DKCRDb2RlQmFyKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAkUGR0TkMtPlBkdFZpcnR1ZWw9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgICRSZXBvbnNlPSRQZHROQy0+VG9KU09OKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyRSZXBvbnNlPWpzb25fZW5jb2RlKCRSZXBvbnNlKSA7DQogICAgICAgICAgICAgICAgICAgICAgICAkTmJUcm91dj0xIDsNCiAgICAgICAgICAgICAgICAgICAgICAgICRUcm91dj1udWxsIDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJFJlcG9uc2UgOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXhpdDsNCiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KCQkJCWlmICgkQ29kZUJhciAhPT0nJyl7DQoJCQkJCSRUcm91dj0kUGR0LT5HZXRQcm9kdWl0KG51bGwsbnVsbCxudWxsLG51bGwsJENvZGVCYXIpOwkJCQkJDQoJCQkJCWlmICgkVHJvdXYpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy92YXJfZHVtcCgkVHJvdXYpOw0KCQkJCQkJaWYgKCRUcm91di0+bnVtX3Jvd3M9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRydz0kVHJvdXYtPmZldGNoX2Fzc29jKCk7DQoJCQkJCQkJJElkUGR0PSRyd1snSUQnXSA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXJfZHVtcCgkSWRQZHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICROYlRyb3V2PTE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEF2ZWNDcml0ZXJlPXRydWUgOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUcm91dj1udWxsIDsNCgkJCQkJCX0JCQkJCQ0KCQkJCQl9DQoJCQkJfQ0KICAgICAgICAgICAgICAgIAkJCQkJCQkNCgkJCX0JCQkNCgkJCWlmIChpc3NldCgkUEFSQU1bJ25vbXJlY2gnXSkpew0KICAgICAgICAgICAgICAgICREZXNpZ25hdGlvbj0kUEFSQU1bJ25vbXJlY2gnXSA7DQogICAgICAgICAgICAgICAgJEF2ZWNDcml0ZXJlPXRydWUgOw0KCQkJfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnREVTSUdOQVRJT04nXSkpew0KICAgICAgICAgICAgICAgICREZXNpZ25hdGlvbj0kUEFSQU1bJ0RFU0lHTkFUSU9OJ10gOw0KICAgICAgICAgICAgICAgICRBdmVjQ3JpdGVyZT10cnVlIDsJCQ0KCQkJfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnRGVzaWduYXRpb24nXSkpew0KICAgICAgICAgICAgICAgICREZXNpZ25hdGlvbj0kUEFSQU1bJ0Rlc2lnbmF0aW9uJ10gOw0KICAgICAgICAgICAgICAgICRBdmVjQ3JpdGVyZT10cnVlIDsJCQ0KCQkJfQ0KDQoJCQlpZiAoaXNzZXQoJFBBUkFNWydJZFBkdCddKSl7DQogICAgICAgICAgICAgICAgJElkUGR0PSRQQVJBTVsnSWRQZHQnXSA7DQogICAgICAgICAgICAgICAgJEF2ZWNDcml0ZXJlPXRydWUgOw0KCQkJfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRQcm9kdWl0J10pKXsNCiAgICAgICAgICAgICAgICAkSWRQZHQ9JFBBUkFNWydJZFByb2R1aXQnXSA7DQogICAgICAgICAgICAgICAgJEF2ZWNDcml0ZXJlPXRydWUgOw0KCQkJfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRJZFBkdCkpeyAgICAgDQogICAgICAgICAgICAgICAgLy92YXJfZHVtcCgkSWRQZHQpOyANCiAgICAgICAgICAgICAgICBpZiAoJElkUGR0PjApew0KICAgICAgICAgICAgICAgICAgICAkUGR0PW5ldyB4UHJvZHVpdCgkbmFieXN5LCRJZFBkdCwkbmFieXN5OjpHTE9CQUxfQVVUT19DUkVBVEVfREJUQUJMRSwncHJvZHVpdHMnLCRCb3V0aXF1ZSkgOyANCiAgICAgICAgICAgICAgICAgICAgJFJlcG9uc2U9JFBkdC0+VG9KU09OKCk7DQogICAgICAgICAgICAgICAgICAgIC8vJFJlcG9uc2U9anNvbl9lbmNvZGUoJFJlcG9uc2UpIDsNCiAgICAgICAgICAgICAgICAgICAgJE5iVHJvdXY9MSA7DQogICAgICAgICAgICAgICAgICAgICRUcm91dj1udWxsIDsgDQogICAgICAgICAgICAgICAgfQkJCQkgICAgICAgICAgICAgICANCgkJCX1lbHNlaWYoJEF2ZWNDcml0ZXJlKSB7ICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgJExzdD0kUGR0LT5HZXRQcm9kdWl0KCRJZFBkdCwkRGVzaWduYXRpb24sbnVsbCxudWxsLCRDb2RlQmFyKTsNCiAgICAgICAgICAgICAgICAkRXJyLT5UeEVycmV1cj0iUHJvZHVpdCBpbnRyb3V2YWJsZS4iIDsNCiAgICAgICAgICAgICAgICAkRXJyLT5PSz0wOw0KICAgICAgICAgICAgICAgICRFcnItPlNvdXJjZT0kYWN0aW9uOw0KICAgICAgICAgICAgICAgICRSZXBvbnNlPWpzb25fZW5jb2RlKCRFcnIpIDsNCiAgICAgICAgICAgICAgICAkVHJvdXY9bnVsbDsgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKCRMc3Qpew0KICAgICAgICAgICAgICAgICAgICAkTmJUcm91dj0kTHN0LT5udW1fcm93czsgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAoJE5iVHJvdXY9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAgJEVyci0+VHhFcnJldXI9IlByb2R1aXQgaW50cm91dmFibGUuIiA7DQogICAgICAgICAgICAgICAgICAgICAgICAkRXJyLT5PSz0wOw0KICAgICAgICAgICAgICAgICAgICAgICAgJFJlcG9uc2U9anNvbl9lbmNvZGUoJEVycikgOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkQXZlY0NyaXRlcmUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUcm91dj0kUGR0LT5HZXRQcm9kdWl0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRUcm91dil7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROYlRyb3V2PSRUcm91di0+bnVtX3Jvd3MgOwkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEVyci0+VHhFcnJldXI9Ikxpc3RlIGRlIHRvdXMgbGVzIGFydGljbGVzOiAiLiROYlRyb3V2IDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJlcG9uc2U9anNvbl9lbmNvZGUoJEVycikgOwkJCQkJDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgJFRyb3V2PSRMc3Q7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAvL1BvdXIgYWZmaWNoZXIgdG91cyBsZXMgYXJ0aWNsZXMNCiAgICAgICAgICAgICAgICAkVHJvdXY9JFBkdC0+R2V0UHJvZHVpdCgpOw0KICAgICAgICAgICAgICAgIGlmICgkVHJvdXYpew0KICAgICAgICAgICAgICAgICAgICAkTmJUcm91dj0kVHJvdXYtPm51bV9yb3dzIDsJDQogICAgICAgICAgICAgICAgICAgICRFcnItPlR4RXJyZXVyPSJMaXN0ZSBkZSB0b3VzIGxlcyBhcnRpY2xlczogIi4kTmJUcm91diA7DQogICAgICAgICAgICAgICAgICAgICRSZXBvbnNlPWpzb25fZW5jb2RlKCRFcnIpIDsJCQkJCQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQoJCQlpZiAoaXNzZXQoJFRyb3V2KSl7DQogICAgICAgICAgICAgICAgLy92YXJfZHVtcCgkVHJvdXYpCQkJOw0KCQkJCWlmICgkVHJvdXYtPm51bV9yb3dzPjApew0KICAgICAgICAgICAgICAgICAgICAkUmVwb25zZT0kbmFieXN5LT5FbmNvZGVSZXBvbnNlU1FMKCRUcm91dik7DQogICAgICAgICAgICAgICAgICAgIC8vJFJlcG9uc2U9JG5hYnlzeS0+U1FMVG9KU09OKCRUcm91dikgOw0KICAgICAgICAgICAgICAgICAgICAkUmVwb25zZT1qc29uX2VuY29kZSgkUmVwb25zZSkgOyAgICAgICAgICAgICAgICAgICAgDQoJCQkJfSAgICAgICAgICAgICAgICANCgkJCX0NCg0KICAgICAgICAgICAgZWNobyAkUmVwb25zZSA7DQogICAgICAgICAgICBleGl0Ow0KICAgICAgICAgICAgDQoNCiAgICAgICAgY2FzZSAnU0FWRV9QSE9UTyc6DQogICAgICAgICAgICAkQ2hhbXBGaWNoaWVyPSdwaG90bycgOw0KICAgICAgICAgICAgJElkUGR0PW51bGw7DQogICAgICAgICAgICBpZiAoaXNzZXQoJFBBUkFNWydJZFByb2R1aXQnXSkpew0KICAgICAgICAgICAgICAgICRJZFBkdD0kUEFSQU1bJ0lkUHJvZHVpdCddIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpc3NldCgkUEFSQU1bJ0lkUGR0J10pKXsNCiAgICAgICAgICAgICAgICAkSWRQZHQ9JFBBUkFNWydJZFBkdCddIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpc3NldCgkUEFSQU1bJ0NIQU1QRklDSElFUiddKSl7DQogICAgICAgICAgICAgICAgJENoYW1wRmljaGllcj0kUEFSQU1bJ0NIQU1QRklDSElFUiddIDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlzc2V0KCRJZFBkdCkpew0KCQkJCS8vJFBkdD1uZXcgeFByb2R1aXQoJG5hYnlzeSwkQm91dGlxdWUsJElkUGR0KSA7DQogICAgICAgICAgICAgICAgJFBkdD1uZXcgeFByb2R1aXQoJG5hYnlzeSwkSWRQZHQpOw0KICAgICAgICAgICAgICAgICRSZXBvPSRQZHQtPlNhdmVQaG90bygkQ2hhbXBGaWNoaWVyKTsNCiAgICAgICAgICAgICAgICAkVHlwZVJlcG9uc2U9Z2V0X2NsYXNzKCRSZXBvKSA7DQogICAgICAgICAgICAgICAgaWYgKCAkVHlwZVJlcG9uc2U9PSd4RXJyZXVyJyl7DQogICAgICAgICAgICAgICAgICAgICRSZXBvbnNlPWpzb25fZW5jb2RlKCRSZXBvKSA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICRSZXBvbnNlPW5ldyB4RXJyZXVyIDsNCiAgICAgICAgICAgICAgICAgICAgJFJlcG9uc2UtPk9LPTE7DQogICAgICAgICAgICAgICAgICAgICRSZXBvbnNlLT5FeHRyYT0iUGhvdG8gRW5yZWdpc3Ryw6kgY29ycmVjdGVtZW50LiIgOw0KICAgICAgICAgICAgICAgICAgICAkUmVwb25zZT0kbmFieXN5LT5TUUxUb0pTT04oJFJlcG8pIDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWNobyAkUmVwb25zZTsNCiAgICAgICAgICAgICAgICANCgkJCX1lbHNlew0KICAgICAgICAgICAgICAgICRSZXBvbnNlPW5ldyB4RXJyZXVyIDsNCiAgICAgICAgICAgICAgICAkUmVwb25zZS0+T0s9MDsNCiAgICAgICAgICAgICAgICAkUmVwb25zZS0+RXh0cmE9IkltcG9zc2libGUgZGUgdmFsaWRlciBsJ29ww6lyYXRpb24gISEhIiA7DQogICAgICAgICAgICAgICAgJFJlcG9uc2U9JG5hYnlzeS0+U1FMVG9KU09OKCRSZXBvKSA7DQogICAgICAgICAgICAgICAgZWNobyAkUmVwb25zZTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGV4aXQ7DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICBjYXNlICdHRVRfUEhPVE8nOg0KICAgICAgICAgICAgJElkUGR0PW51bGw7DQogICAgICAgICAgICAkR2V0Q2hlbWluPXRydWU7DQoNCiAgICAgICAgICAgIGlmIChpc3NldCgkUEFSQU1bJ0lkUHJvZHVpdCddKSl7DQogICAgICAgICAgICAgICAgJElkUGR0PSRQQVJBTVsnSWRQcm9kdWl0J10gOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGlzc2V0KCRQQVJBTVsnSWRQZHQnXSkpew0KICAgICAgICAgICAgICAgICRJZFBkdD0kUEFSQU1bJ0lkUGR0J10gOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaXNzZXQoJElkUGR0KSl7DQoJCQkJJFBkdD1uZXcgeFByb2R1aXQoJG5hYnlzeSwkSWRQZHQpIDsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAkQ2hlbWluPSRQZHQtPkdldFBob3RvKCRHZXRDaGVtaW4pIDsNCiAgICAgICAgICAgICAgICBpZiAoJEdldENoZW1pbil7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJENoZW1pbjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICRSZXBvbnNlPW5ldyB4RXJyZXVyIDsNCiAgICAgICAgICAgICAgICAkUmVwb25zZS0+T0s9MDsNCiAgICAgICAgICAgICAgICAkUmVwb25zZS0+RXh0cmE9IkltcG9zc2libGUgZGUgdmFsaWRlciBsJ29ww6lyYXRpb24uIHBob3RvIGludHJvdXZhYmxlIHBvdXIgSWRQZHQgaW5jb25udWUgISIgOw0KICAgICAgICAgICAgICAgICRSZXBvbnNlPSRuYWJ5c3ktPlNRTFRvSlNPTigkUmVwbykgOw0KICAgICAgICAgICAgICAgIGVjaG8gJFJlcG9uc2U7DQogICAgICAgICAgICAgICAgcmV0dXJuIDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGV4aXQ7DQogICAgICAgICAgICANCg0KCQlkZWZhdWx0Og0KCQkJDQoJfQ0KCQ0KICAgIC8vQWN0aW9uIG5vbiBwcmlzIGVuIGNvbXB0ZSBpY2kuDQogICAgJEZpY2hpZXJBY3Rpb25Qcm9kdWl0c05vbkNsYXNzZT0iY29kZWJhcm5jX2FjdGlvbi5waHAiOw0KICAgIGluY2x1ZGVfb25jZSAnY29kZWJhcm5jX2FjdGlvbi5waHAnOw0KICAgIGlmIChmaWxlX2V4aXN0cygkRmljaGllckFjdGlvblByb2R1aXRzTm9uQ2xhc3NlKSl7DQogICAgICAgIGluY2x1ZGVfb25jZSAkRmljaGllckFjdGlvblByb2R1aXRzTm9uQ2xhc3NlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIFJldG91cm5lUmVwb25zZUFQSSgkSlNPTmRhdGE9bnVsbCl7DQoJCWlmIChpc3NldCgkSlNPTmRhdGEpKXsNCgkJCWVjaG8gJEpTT05kYXRhIDsNCgkJCWV4aXQgOw0KCQl9DQogICAgICAgICROb3RpZj1uZXcgeEVycmV1cjsNCiAgICAgICAgJE5vdGlmLT5PSz0xOw0KCQllY2hvIGpzb25fZW5jb2RlKCROb3RpZikgOw0KCQlleGl0IDsNCgl9DQoNCgkNCg0KPz4iO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZG9jQmxvY2siO047czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBtZXRhZGF0YSI7YTowOnt9fQ==";