1752635122
8a0c4faa9771445189035ca844487507-phpdoc%3A354aba6ffcfdfe23fd855f7ccd43e230-479c77aab8d9aefdf17bba8b8ec7f549
s:14784:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjc6InJ1bi5waHAiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MTp7czoxMToiXHNob3dIZWxwKCkiO086Mzg6InBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fIjo5OntzOjQ5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AYXJndW1lbnRzIjthOjE6e2k6MDtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50Ijo1OntzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudAB0eXBlIjtPOjM3OiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cVHlwZXNcTWl4ZWRfIjowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAbmFtZSI7czo1OiJlcnJvciI7czo0NjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcQXJndW1lbnQAZGVmYXVsdCI7TjtzOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxBcmd1bWVudABieVJlZmVyZW5jZSI7YjowO3M6NDk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEFyZ3VtZW50AGlzVmFyaWFkaWMiO2I6MDt9fXM6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBsb2NhdGlvbiI7TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uIjoyOntzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGxpbmVOdW1iZXIiO2k6MTA7czo0NzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxMb2NhdGlvbgBjb2x1bW5OdW1iZXIiO2k6MDt9czo1MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGVuZExvY2F0aW9uIjtPOjMzOiJwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24iOjI6e3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cTG9jYXRpb24AbGluZU51bWJlciI7aToyNztzOjQ3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXExvY2F0aW9uAGNvbHVtbk51bWJlciI7aTowO31zOjUwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGdW5jdGlvbl8AcmV0dXJuVHlwZSI7TzozNzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFR5cGVzXE1peGVkXyI6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBmcXNlbiI7TzozMDoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuIjoyOntzOjM3OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXEZxc2VuAGZxc2VuIjtzOjExOiJcc2hvd0hlbHAoKSI7czozNjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxGcXNlbgBuYW1lIjtzOjg6InNob3dIZWxwIjt9czo0ODoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGRvY0Jsb2NrIjtOO3M6NjA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBoYXNSZXR1cm5CeVJlZmVyZW5jZSI7YjowO3M6NDg6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZ1bmN0aW9uXwBtZXRhZGF0YSI7YTowOnt9czo1MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRnVuY3Rpb25fAGF0dHJpYnV0ZXMiO2E6MDp7fX19czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjb25zdGFudHMiO2E6MDp7fXM6NDI6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY2xhc3NlcyI7YTowOnt9czo0NToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbnRlcmZhY2VzIjthOjA6e31zOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHRyYWl0cyI7YTowOnt9czo0MDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBlbnVtcyI7YTowOnt9czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBoYXNoIjtzOjMyOiI0NzljNzdhYWI4ZDlhZWZkZjE3YmJhOGI4ZWM3ZjU0OSI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjQwOiJ2ZW5kb3IvbmlraWMvcGhwLXBhcnNlci90ZXN0X29sZC9ydW4ucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo4NjI2OiI8P3BocA0KDQplcnJvcl9yZXBvcnRpbmcoRV9BTEwgfCBFX1NUUklDVCk7DQppbmlfc2V0KCdzaG9ydF9vcGVuX3RhZycsIGZhbHNlKTsNCg0KaWYgKCdjbGknICE9PSBwaHBfc2FwaV9uYW1lKCkpIHsNCiAgICBkaWUoJ1RoaXMgc2NyaXB0IGlzIGRlc2lnbmVkIGZvciBydW5uaW5nIG9uIHRoZSBjb21tYW5kIGxpbmUuJyk7DQp9DQoNCmZ1bmN0aW9uIHNob3dIZWxwKCRlcnJvcikgew0KICAgIGRpZSgkZXJyb3IgLiAiXG5cbiIgLg0KPDw8T1VUUFVUDQpUaGlzIHNjcmlwdCBoYXMgdG8gYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6DQoNCiAgICBwaHAgcnVuLnBocCBbLS1uby1wcm9ncmVzc10gdGVzdFR5cGUgcGF0aFRvVGVzdEZpbGVzDQoNClRoZSB0ZXN0IHR5cGUgbXVzdCBiZSBvbmUgb2Y6IFBIUCwgU3ltZm9ueQ0KDQpUaGUgZm9sbG93aW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZToNCg0KICAgIC0tbm8tcHJvZ3Jlc3MgICAgICAgICAgICBEaXNhYmxlcyBzaG93aW5nIHdoaWNoIGZpbGUgaXMgY3VycmVudGx5IHRlc3RlZC4NCiAgICAtLXZlcmJvc2UgICAgICAgICAgICAgICAgUHJpbnQgbW9yZSBpbmZvcm1hdGlvbiBmb3IgZmFpbHVyZXMuDQogICAgLS1waHAtdmVyc2lvbj1WRVJTSU9OICAgIFBIUCB2ZXJzaW9uIHRvIHVzZSBmb3IgbGV4aW5nL3BhcnNpbmcuDQoNCk9VVFBVVA0KICAgICk7DQp9DQoNCiRhbGxvd2VkT3B0aW9ucyA9IFsNCiAgICAnLS1uby1wcm9ncmVzcycgPT4gdHJ1ZSwNCiAgICAnLS12ZXJib3NlJyA9PiB0cnVlLA0KICAgICctLXBocC12ZXJzaW9uJyA9PiB0cnVlLA0KXTsNCg0KJG9wdGlvbnMgPSBhcnJheSgpOw0KJGFyZ3VtZW50cyA9IGFycmF5KCk7DQoNCi8vIHJlbW92ZSBzY3JpcHQgbmFtZSBmcm9tIGFyZ3YNCmFycmF5X3NoaWZ0KCRhcmd2KTsNCg0KZm9yZWFjaCAoJGFyZ3YgYXMgJGFyZykgew0KICAgIGlmICgnLScgPT09ICRhcmdbMF0pIHsNCiAgICAgICAgJHBhcnRzID0gZXhwbG9kZSgnPScsICRhcmcpOw0KICAgICAgICAkbmFtZSA9ICRwYXJ0c1swXTsNCiAgICAgICAgaWYgKCFpc3NldCgkYWxsb3dlZE9wdGlvbnNbJG5hbWVdKSkgew0KICAgICAgICAgICAgc2hvd0hlbHAoIlVua25vd24gb3B0aW9uIFwiJG5hbWVcIiIpOw0KICAgICAgICB9DQogICAgICAgICRvcHRpb25zWyRuYW1lXSA9ICRwYXJ0c1sxXSA/PyB0cnVlOw0KICAgIH0gZWxzZSB7DQogICAgICAgICRhcmd1bWVudHNbXSA9ICRhcmc7DQogICAgfQ0KfQ0KDQppZiAoY291bnQoJGFyZ3VtZW50cykgIT09IDIpIHsNCiAgICBzaG93SGVscCgnVG9vIGZldyBhcmd1bWVudHMgcGFzc2VkIScpOw0KfQ0KDQokc2hvd1Byb2dyZXNzID0gIWlzc2V0KCRvcHRpb25zWyctLW5vLXByb2dyZXNzJ10pOw0KJHZlcmJvc2UgPSBpc3NldCgkb3B0aW9uc1snLS12ZXJib3NlJ10pOw0KJHBocFZlcnNpb24gPSAkb3B0aW9uc1snLS1waHAtdmVyc2lvbiddID8/ICc4LjAnOw0KJHRlc3RUeXBlID0gJGFyZ3VtZW50c1swXTsNCiRkaXIgPSAkYXJndW1lbnRzWzFdOw0KDQpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vdmVuZG9yL2F1dG9sb2FkLnBocCc7DQoNCnN3aXRjaCAoJHRlc3RUeXBlKSB7DQogICAgY2FzZSAnU3ltZm9ueSc6DQogICAgICAgICRmaWxlRmlsdGVyID0gZnVuY3Rpb24oJHBhdGgpIHsNCiAgICAgICAgICAgIGlmICghcHJlZ19tYXRjaCgnflwucGhwJH4nLCAkcGF0aCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChwcmVnX21hdGNoKCd+KD86DQojIGludmFsaWQgcGhwIGNvZGUNCiAgZGVwZW5kZW5jeS1pbmplY3Rpb24uVGVzdHMuRml4dHVyZXMueG1sLnhtbF93aXRoX3dyb25nX2V4dA0KIyBkaWZmZXJlbmNlIGluIG5vcCBzdGF0ZW1lbnQNCnwgZnJhbWV3b3JrLWJ1bmRsZS5SZXNvdXJjZXMudmlld3MuRm9ybS5jaG9pY2Vfd2lkZ2V0X29wdGlvbnNcLmh0bWwNCiMgZGlmZmVyZW5jZSBkdWUgdG8gSU5GDQp8IHlhbWwuVGVzdHMuSW5saW5lVGVzdA0KKVwucGhwJH54JywgJHBhdGgpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfTsNCiAgICAgICAgJGNvZGVFeHRyYWN0b3IgPSBmdW5jdGlvbigkZmlsZSwgJGNvZGUpIHsNCiAgICAgICAgICAgIHJldHVybiAkY29kZTsNCiAgICAgICAgfTsNCiAgICAgICAgYnJlYWs7DQogICAgY2FzZSAnUEhQJzoNCiAgICAgICAgJGZpbGVGaWx0ZXIgPSBmdW5jdGlvbigkcGF0aCkgew0KICAgICAgICAgICAgcmV0dXJuIHByZWdfbWF0Y2goJ35cLnBocHQkficsICRwYXRoKTsNCiAgICAgICAgfTsNCiAgICAgICAgJGNvZGVFeHRyYWN0b3IgPSBmdW5jdGlvbigkZmlsZSwgJGNvZGUpIHsNCiAgICAgICAgICAgIGlmIChwcmVnX21hdGNoKCd+KD86DQojIHNrZWxldG9uIGZpbGVzDQogIGV4dC5nbXAudGVzdHMuMDAxDQp8IGV4dC5za2VsZXRvbi50ZXN0cy4wMFxkDQojIG11bHRpYnl0ZSBlbmNvZGVkIGZpbGVzDQp8IGV4dC5tYnN0cmluZy50ZXN0cy56ZW5kX211bHRpYnl0ZS0wMQ0KfCBaZW5kLnRlc3RzLm11bHRpYnl0ZS5tdWx0aWJ5dGVfZW5jb2RpbmdfMDAxDQp8IFplbmQudGVzdHMubXVsdGlieXRlLm11bHRpYnl0ZV9lbmNvZGluZ18wMDQNCnwgWmVuZC50ZXN0cy5tdWx0aWJ5dGUubXVsdGlieXRlX2VuY29kaW5nXzAwNQ0KIyBpbnZhbGlkIGNvZGUgZHVlIHRvIG1pc3NpbmcgV1MgYWZ0ZXIgb3BlbmluZyB0YWcNCnwgdGVzdHMucnVuLXRlc3QuYnVnNzUwNDItMw0KIyBjb250YWlucyBpbnZhbGlkIGNoYXJzLCB3aGljaCB3ZSB0cmVhdCBhcyBwYXJzZSBlcnJvcg0KfCBaZW5kLnRlc3RzLndhcm5pbmdfZHVyaW5nX2hlcmVkb2Nfc2Nhbl9haGVhZA0KIyBwcmV0dHkgcHJpbnQgZGlmZmVyZW5jZXMgZHVlIHRvIG5lZ2F0aXZlIExOdW1iZXJzDQp8IFplbmQudGVzdHMubmVnX251bV9zdHJpbmcNCnwgWmVuZC50ZXN0cy5udW1lcmljX3N0cmluZ3MubmVnX251bV9zdHJpbmcNCnwgWmVuZC50ZXN0cy5idWc3MjkxOA0KIyBwcmV0dHkgcHJpbnQgZGlmZmVyZW5jZSBkdWUgdG8gbm9wIHN0YXRlbWVudHMNCnwgZXh0Lm1ic3RyaW5nLnRlc3RzLmh0bWxlbnQNCnwgZXh0LnN0YW5kYXJkLnRlc3RzLmZpbGUuZnJlYWRfYmFzaWMNCiMgaXRzIHRvbyBoYXJkIHRvIGVtdWxhdGUgdGhlc2Ugb24gb2xkIFBIUCB2ZXJzaW9ucw0KfCBaZW5kLnRlc3RzLmZsZXhpYmxlLWhlcmVkb2MtY29tcGxleC10ZXN0WzEtNF0NCiMgd2hpdGVzcGFjZSBpbiBuYW1lc3BhY2VkIG5hbWUNCnwgWmVuZC50ZXN0cy5idWc1NTA4Ng0KfCBaZW5kLnRlc3RzLmdyYW1tYXIucmVncmVzc2lvbl8wMTANCiMgbm90IHdvcnRoIGVtdWxhdGluZyBvbiBvbGQgUEhQIHZlcnNpb25zDQp8IFplbmQudGVzdHMudHlwZV9kZWNsYXJhdGlvbnMuaW50ZXJzZWN0aW9uX3R5cGVzLnBhcnNpbmdfY29tbWVudA0KIyBjb21tZW50cyBpbiBwcm9wZXJ0eSBmZXRjaCBzeW50YXgsIG5vdCBlbXVsYXRlZCBvbiBvbGQgUEhQIHZlcnNpb25zDQp8IFplbmQudGVzdHMuZ2gxNDk2MQ0KKVwucGhwdCR+eCcsICRmaWxlKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoIXByZWdfbWF0Y2goJ34tLUZJTEUtLVxzKiguKj8pXG4tLVtBLVpdKy0tfnMnLCAkY29kZSwgJG1hdGNoZXMpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAocHJlZ19tYXRjaCgnfi0tRVhQRUNUKD86RnxSRUdFWCk/LS1ccyooPzpQYXJzZXxGYXRhbCkgZXJyb3J+JywgJGNvZGUpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiAkbWF0Y2hlc1sxXTsNCiAgICAgICAgfTsNCiAgICAgICAgYnJlYWs7DQogICAgZGVmYXVsdDoNCiAgICAgICAgc2hvd0hlbHAoJ1Rlc3QgdHlwZSBtdXN0IGJlIG9uZSBvZjogUEhQIG9yIFN5bWZvbnknKTsNCn0NCg0KJHBhcnNlciA9IChuZXcgUGhwUGFyc2VyXFBhcnNlckZhY3RvcnkoKSktPmNyZWF0ZUZvclZlcnNpb24oUGhwUGFyc2VyXFBocFZlcnNpb246OmZyb21TdHJpbmcoJHBocFZlcnNpb24pKTsNCiRwcmV0dHlQcmludGVyID0gbmV3IFBocFBhcnNlclxQcmV0dHlQcmludGVyXFN0YW5kYXJkOw0KJG5vZGVEdW1wZXIgPSBuZXcgUGhwUGFyc2VyXE5vZGVEdW1wZXI7DQoNCiRjbG9uaW5nVHJhdmVyc2VyID0gbmV3IFBocFBhcnNlclxOb2RlVHJhdmVyc2VyOw0KJGNsb25pbmdUcmF2ZXJzZXItPmFkZFZpc2l0b3IobmV3IFBocFBhcnNlclxOb2RlVmlzaXRvclxDbG9uaW5nVmlzaXRvcik7DQoNCiRwYXJzZUZhaWwgPSAkZnBwcEZhaWwgPSAkcHBGYWlsID0gJGNvbXBhcmVGYWlsID0gJGNvdW50ID0gMDsNCg0KJHJlYWRUaW1lID0gJHBhcnNlVGltZSA9ICRjbG9uZVRpbWUgPSAwOw0KJGZwcHBUaW1lID0gJHBwVGltZSA9ICRyZXBhcnNlVGltZSA9ICRjb21wYXJlVGltZSA9IDA7DQokdG90YWxTdGFydFRpbWUgPSBtaWNyb3RpbWUodHJ1ZSk7DQoNCmZvcmVhY2ggKG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKA0KICAgICAgICAgICAgIG5ldyBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkZGlyKSwNCiAgICAgICAgICAgICBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yOjpMRUFWRVNfT05MWSkNCiAgICAgICAgIGFzICRmaWxlKSB7DQogICAgaWYgKCEkZmlsZUZpbHRlcigkZmlsZSkpIHsNCiAgICAgICAgY29udGludWU7DQogICAgfQ0KDQogICAgJHN0YXJ0VGltZSA9IG1pY3JvdGltZSh0cnVlKTsNCiAgICAkb3JpZ0NvZGUgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7DQogICAgJHJlYWRUaW1lICs9IG1pY3JvdGltZSh0cnVlKSAtICRzdGFydFRpbWU7DQoNCiAgICBpZiAobnVsbCA9PT0gJG9yaWdDb2RlID0gJGNvZGVFeHRyYWN0b3IoJGZpbGUsICRvcmlnQ29kZSkpIHsNCiAgICAgICAgY29udGludWU7DQogICAgfQ0KDQogICAgc2V0X3RpbWVfbGltaXQoMTApOw0KDQogICAgKyskY291bnQ7DQoNCiAgICBpZiAoJHNob3dQcm9ncmVzcykgew0KICAgICAgICBlY2hvIHN1YnN0cihzdHJfcGFkKCdUZXN0aW5nIGZpbGUgJyAuICRjb3VudCAuICc6ICcgLiBzdWJzdHIoJGZpbGUsIHN0cmxlbigkZGlyKSksIDc5KSwgMCwgNzkpLCAiXHIiOw0KICAgIH0NCg0KICAgIHRyeSB7DQogICAgICAgICRzdGFydFRpbWUgPSBtaWNyb3RpbWUodHJ1ZSk7DQogICAgICAgICRvcmlnU3RtdHMgPSAkcGFyc2VyLT5wYXJzZSgkb3JpZ0NvZGUpOw0KICAgICAgICAkcGFyc2VUaW1lICs9IG1pY3JvdGltZSh0cnVlKSAtICRzdGFydFRpbWU7DQoNCiAgICAgICAgJG9yaWdUb2tlbnMgPSAkcGFyc2VyLT5nZXRUb2tlbnMoKTsNCg0KICAgICAgICAkc3RhcnRUaW1lID0gbWljcm90aW1lKHRydWUpOw0KICAgICAgICAkc3RtdHMgPSAkY2xvbmluZ1RyYXZlcnNlci0+dHJhdmVyc2UoJG9yaWdTdG10cyk7DQogICAgICAgICRjbG9uZVRpbWUgKz0gbWljcm90aW1lKHRydWUpIC0gJHN0YXJ0VGltZTsNCg0KICAgICAgICAkc3RhcnRUaW1lID0gbWljcm90aW1lKHRydWUpOw0KICAgICAgICAkY29kZSA9ICRwcmV0dHlQcmludGVyLT5wcmludEZvcm1hdFByZXNlcnZpbmcoJHN0bXRzLCAkb3JpZ1N0bXRzLCAkb3JpZ1Rva2Vucyk7DQogICAgICAgICRmcHBwVGltZSArPSBtaWNyb3RpbWUodHJ1ZSkgLSAkc3RhcnRUaW1lOw0KDQogICAgICAgIGlmICgkY29kZSAhPT0gJG9yaWdDb2RlKSB7DQogICAgICAgICAgICBlY2hvICRmaWxlLCAiOlxuIFJlc3VsdCBvZiBmb3JtYXQtcHJlc2VydmluZyBwcmV0dHktcHJpbnQgZGlmZmVyc1xuIjsNCiAgICAgICAgICAgIGlmICgkdmVyYm9zZSkgew0KICAgICAgICAgICAgICAgIGVjaG8gIkZQUFAgb3V0cHV0OlxuPT09PT1cbiRjb2RlXG49PT09PVxuXG4iOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICArKyRmcHBwRmFpbDsNCiAgICAgICAgfQ0KDQogICAgICAgICRzdGFydFRpbWUgPSBtaWNyb3RpbWUodHJ1ZSk7DQogICAgICAgICRjb2RlID0gIjw/cGhwXG4iIC4gJHByZXR0eVByaW50ZXItPnByZXR0eVByaW50KCRzdG10cyk7DQogICAgICAgICRwcFRpbWUgKz0gbWljcm90aW1lKHRydWUpIC0gJHN0YXJ0VGltZTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJHN0YXJ0VGltZSA9IG1pY3JvdGltZSh0cnVlKTsNCiAgICAgICAgICAgICRwcFN0bXRzID0gJHBhcnNlci0+cGFyc2UoJGNvZGUpOw0KICAgICAgICAgICAgJHJlcGFyc2VUaW1lICs9IG1pY3JvdGltZSh0cnVlKSAtICRzdGFydFRpbWU7DQoNCiAgICAgICAgICAgICRzdGFydFRpbWUgPSBtaWNyb3RpbWUodHJ1ZSk7DQogICAgICAgICAgICAkc2FtZSA9ICRub2RlRHVtcGVyLT5kdW1wKCRzdG10cykgPT0gJG5vZGVEdW1wZXItPmR1bXAoJHBwU3RtdHMpOw0KICAgICAgICAgICAgJGNvbXBhcmVUaW1lICs9IG1pY3JvdGltZSh0cnVlKSAtICRzdGFydFRpbWU7DQoNCiAgICAgICAgICAgIGlmICghJHNhbWUpIHsNCiAgICAgICAgICAgICAgICBlY2hvICRmaWxlLCAiOlxuICAgIFJlc3VsdCBvZiBpbml0aWFsIHBhcnNlIGFuZCBwYXJzZSBhZnRlciBwcmV0dHkgcHJpbnQgZGlmZmVyXG4iOw0KICAgICAgICAgICAgICAgIGlmICgkdmVyYm9zZSkgew0KICAgICAgICAgICAgICAgICAgICBlY2hvICJQcmV0dHkgcHJpbnRlciBvdXRwdXQ6XG49PT09PVxuJGNvZGVcbj09PT09XG5cbiI7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgKyskY29tcGFyZUZhaWw7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKFBocFBhcnNlclxFcnJvciAkZSkgew0KICAgICAgICAgICAgZWNobyAkZmlsZSwgIjpcbiAgICBQYXJzZSBvZiBwcmV0dHkgcHJpbnQgZmFpbGVkIHdpdGggbWVzc2FnZTogeyRlLT5nZXRNZXNzYWdlKCl9XG4iOw0KICAgICAgICAgICAgaWYgKCR2ZXJib3NlKSB7DQogICAgICAgICAgICAgICAgZWNobyAiUHJldHR5IHByaW50ZXIgb3V0cHV0OlxuPT09PT1cbiRjb2RlXG49PT09PVxuXG4iOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICArKyRwcEZhaWw7DQogICAgICAgIH0NCiAgICB9IGNhdGNoIChQaHBQYXJzZXJcRXJyb3IgJGUpIHsNCiAgICAgICAgZWNobyAkZmlsZSwgIjpcbiAgICBQYXJzZSBmYWlsZWQgd2l0aCBtZXNzYWdlOiB7JGUtPmdldE1lc3NhZ2UoKX1cbiI7DQoNCiAgICAgICAgKyskcGFyc2VGYWlsOw0KICAgIH0gY2F0Y2ggKFRocm93YWJsZSAkZSkgew0KICAgICAgICBlY2hvICRmaWxlLCAiOlxuICAgIFVua25vd24gZXJyb3Igb2NjdXJyZWQ6ICRlXG4iOw0KICAgIH0NCn0NCg0KaWYgKDAgPT09ICRwYXJzZUZhaWwgJiYgMCA9PT0gJHBwRmFpbCAmJiAwID09PSAkY29tcGFyZUZhaWwpIHsNCiAgICAkZXhpdCA9IDA7DQogICAgZWNobyAiXG5cbiIsICdBbGwgdGVzdHMgcGFzc2VkLicsICJcbiI7DQp9IGVsc2Ugew0KICAgICRleGl0ID0gMTsNCiAgICBlY2hvICJcblxuIiwgJz09PT09PT09PT0nLCAiXG5cbiIsICdUaGVyZSB3ZXJlOiAnLCAiXG4iOw0KICAgIGlmICgwICE9PSAkcGFyc2VGYWlsKSB7DQogICAgICAgIGVjaG8gJyAgICAnLCAkcGFyc2VGYWlsLCAgICcgcGFyc2UgZmFpbHVyZXMuJywgICAgICAgICJcbiI7DQogICAgfQ0KICAgIGlmICgwICE9PSAkcHBGYWlsKSB7DQogICAgICAgIGVjaG8gJyAgICAnLCAkcHBGYWlsLCAgICAgICcgcHJldHR5IHByaW50IGZhaWx1cmVzLicsICJcbiI7DQogICAgfQ0KICAgIGlmICgwICE9PSAkZnBwcEZhaWwpIHsNCiAgICAgICAgZWNobyAnICAgICcsICRmcHBwRmFpbCwgICAgICAnIEZQUFAgZmFpbHVyZXMuJywgIlxuIjsNCiAgICB9DQogICAgaWYgKDAgIT09ICRjb21wYXJlRmFpbCkgew0KICAgICAgICBlY2hvICcgICAgJywgJGNvbXBhcmVGYWlsLCAnIGNvbXBhcmUgZmFpbHVyZXMuJywgICAgICAiXG4iOw0KICAgIH0NCn0NCg0KZWNobyAiXG4iLA0KICAgICAnVGVzdGVkIGZpbGVzOiAgICAgICAgICcsICRjb3VudCwgICAgICAgICJcbiIsDQogICAgICJcbiIsDQogICAgICdSZWFkaW5nIGZpbGVzIHRvb2s6ICAgJywgJHJlYWRUaW1lLCAgICAiXG4iLA0KICAgICAnUGFyc2luZyB0b29rOiAgICAgICAgICcsICRwYXJzZVRpbWUsICAgIlxuIiwNCiAgICAgJ0Nsb25pbmcgdG9vazogICAgICAgICAnLCAkY2xvbmVUaW1lLCAgICJcbiIsDQogICAgICdGUFBQIHRvb2s6ICAgICAgICAgICAgJywgJGZwcHBUaW1lLCAgICAiXG4iLA0KICAgICAnUHJldHR5IHByaW50aW5nIHRvb2s6ICcsICRwcFRpbWUsICAgICAgIlxuIiwNCiAgICAgJ1JlcGFyc2luZyB0b29rOiAgICAgICAnLCAkcmVwYXJzZVRpbWUsICJcbiIsDQogICAgICdDb21wYXJpbmcgdG9vazogICAgICAgJywgJGNvbXBhcmVUaW1lLCAiXG4iLA0KICAgICAiXG4iLA0KICAgICAnVG90YWwgdGltZTogICAgICAgICAgICcsIG1pY3JvdGltZSh0cnVlKSAtICR0b3RhbFN0YXJ0VGltZSwgIlxuIiwNCiAgICAgJ01heGltdW0gbWVtb3J5IHVzYWdlOiAnLCBtZW1vcnlfZ2V0X3BlYWtfdXNhZ2UodHJ1ZSksICJcbiI7DQoNCmV4aXQoJGV4aXQpOw0KIjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGRvY0Jsb2NrIjtOO3M6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbWV0YWRhdGEiO2E6MDp7fX0=";